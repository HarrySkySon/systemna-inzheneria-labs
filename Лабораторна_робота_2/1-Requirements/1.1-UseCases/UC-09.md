# UC-09: Керування користувачами системи

## Інформація про Use Case

| Поле | Значення |
|------|----------|
| **Ідентифікатор та назва** | UC-09: Керування користувачами системи |
| **Автор** | Постановський Ігор (ІСП-ХХ) |
| **Дата створення** | 2025-12-14 |
| **Основна дійова особа** | Системний адміністратор |
| **Додаткова дійова особа** | Працівники, Інженери, Бригадири |

## Опис

Адміністратор створює, редагує та деактивує облікові записи користувачів системи

## Тригер

Прийом нових співробітників, зміна ролей або звільнення

## Попередні умови

- Адміністратор автентифікований з правами 'System Admin'
- Є затверджена заявка на зміну користувачів

## Нормальний напрямок подій

1. Адміністратор відкриває розділ 'Управління користувачами'
2. Адміністратор натискає 'Додати користувача'
3. Адміністратор заповнює форму: ПІБ, email, посада, роль, бригада (якщо Працівник)
4. Адміністратор встановлює рівень доступу (Worker/Foreman/Safety Engineer/Admin)
5. Адміністратор генерує тимчасовий PIN-код для першого входу
6. Система створює обліковий запис
7. Система надсилає привітальний email з інструкціями
8. Адміністратор призначає IoT пристрій користувачу (для працівників)
9. Обліковий запис активується
10. Користувач отримує доступ до системи

## Альтернативний напрямок подій

2a. Редагування існуючого користувача:
   2a.1. Адміністратор шукає користувача за іменем/email
   2a.2. Відкриває профіль
   2a.3. Редагує необхідні поля
   2a.4. Зберігає зміни
2b. Деактивація користувача:
   2b.1. Адміністратор вибирає користувача
   2b.2. Натискає 'Деактивувати'
   2b.3. Вказує причину деактивації
   2b.4. Система блокує доступ та відв'язує IoT пристрій

## Винятки

- Email вже існує в системі - помилка дублікату
- Невалідний формат даних - валідаційна помилка з поясненням
- Помилка відправки email - користувач створений, але потребує ручного повідомлення

## Частота використання

За потреби, в середньому 2-5 разів на тиждень

## Бізнес правила

- BR-24: Деактивовані користувачі зберігаються в системі для історії
- BR-25: Зміна ролі вимагає підтвердження від менеджера
- BR-26: Адміністратор не може деактивувати власний обліковий запис

## Спеціальні вимоги

- Інтеграція з корпоративною AD/LDAP (опційно)
- Масовий імпорт користувачів з CSV
- Аудит всіх змін користувачів

## Припущення

- Є валідні дані про нового користувача
- Користувач має корпоративну email адресу

---

*Лабораторна робота №2, Use Case*
